<section>
  <h2 class="text-2xl font-bold mt-6 mb-4"><%= @channel_group.name %></h2>
  <%= form_tag(channel_group_path(@channel_group), method: :put) do %>
    <div class="setting-list">
      <p>Channel Group Name</p>
      <%= text_field_tag('channel_group[name]', @channel_group.name) %>
      <div>
        <%= submit_tag("Update") %>
      </div>
    </div>
  <% end %>
  <% if logged_in? %>
    <% if @channel_group.users.include?(current_user) %>
      <p><%= link_to("Leave this channel group", channel_group_membership_path(@channel_group), data: { turbo_method: :delete }) %></p>
    <% else %>
      <p><%= link_to("Join to this channel group", channel_group_membership_path(@channel_group), data: { turbo_method: :post }) %></p>
    <% end %>
  <% end %>
</section>

<section>
  <h2 class="text-2xl font-bold mt-6 mb-2">Channels</h2>
  <p class="mb-4"><%= @channels.count %> channels</p>
  <%= render(partial: "channels/cards", locals: { channels: @channels }) %>
</section>

<section>
  <h2 class="text-2xl font-bold mt-6 mb-2">Items</h2>
  <p class="mb-4"><%= @items.count %> items</p>
  <%= render(partial: "items/cards", locals: { items: @items, with_channel: true }) %>
</section>
