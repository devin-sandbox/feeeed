<div class="channel-profile">
  <% if @channel.image_url %>
  <div class="channel-profile-image">
    <%= image_tag(@channel.image_url, style: "max-height: 240px;") %>
  </div>
  <% end %>

  <div class="channel-profile-info">
    <h2><%= @channel.title %></h2>

    <div class="channel-buttons">
      <%= render(partial: "subscriptions/link", locals: { channel: @channel }) %>
    </div>

    <% if @channel.description %>
      <p><%= @channel.description %></p>
    <% end %>

    <ul>
      <% if @channel.site_url %>
      <li>Site: <%= link_to(@channel.site_url, @channel.site_url, target: "_blank") %></li>
      <% end %>
      <li>Feed: <%= link_to(@channel.feed_url, @channel.feed_url, target: "_blank") %></li>
    </ul>

    <p>
      <%= render(partial: "ownerships/link", locals: { channel: @channel }) %>
    </p>
    <p>
      <%= link_to("Update and fetch items", channel_fetch_path(@channel), data: { turbo_method: :post }) %>
    </p>

    <% if @channel.stopper %>
      <p style="padding: 20px; background-color: #ffdf89; color: #946c00;">
        This channel has stopped updating
      </p>
    <% end %>
  </div>
</div>

<h3>Items</h3>

<%= render(partial: "items/cards", locals: { items: @items, with_channel: false }) %>
